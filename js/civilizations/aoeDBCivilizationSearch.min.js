let searchCivilizationInput=document.getElementById("aoedb-search-civilization-input");document.getElementById("aoedb-search-civilization-form").onsubmit=()=>{let a=searchCivilizationInput.value;return window.location.replace(`civilizationSearch.html?search=${encodeURIComponent(a.trim())}`),!1};const getCivilization=async()=>{let a=window.location.href,b=a.substring(a.lastIndexOf("=")+1);const c=await fetch(`https://age-of-empires-2-api.herokuapp.com/api/v1/civilization/${b}`),d=await c.json();if(!d)throw new error("No se ha podido establecer conexion");else return d},getUniqueUnit=async a=>{if(a){const b=await fetch(a),c=await b.json();return c}return"Unit not Found"},getUniqueTech=async a=>{if(a){const b=await fetch(a),c=await b.json();return c}return"Tech not Found"},printCivilization=async()=>{let a=await getCivilization(),b=document.getElementsByClassName("aoedb-search-box-body")[0],c=0,d=document.getElementsByClassName("aoedb-search-box-header")[0];if(a.message)d.innerHTML=`<h2>${a.message}</h2>`;else{d.innerHTML=`<h2>${a.name}</h2>`;let c=a.unique_unit[0],e=await getUniqueUnit(c),f=a.unique_tech[0],g=await getUniqueTech(f);b.innerHTML=`
        <div>
        <h3>Civilization Info</h3>
        <p><span>Expansion: </span>${a.expansion}</p>
        <p><span>Army Type: </span>${a.army_type}</p>
        <p><span>Team Bonus: </span>${a.team_bonus}</p>
        <p><span>Civilization Bonus:</span></p>
        <ul class="aoedb-box-bonus"></ul>
        </div>
        <div>
        <h3>Unique Unit Info</h3>
        <p><span>Name: </span>${e.name}</p>
        <p><span>Expansion: </span>${e.expansion}</p>
        <p><span>Description: </span>${e.description}</p>
        <p><span>Age: </span>${e.age}</p>
        <p><span>Attack: </span>${e.attack}</p>
        </div>
        <div>
        <h3>Unique Tech Info</h3>
        <p><span>Name: </span>${g.name}</p> 
        <p><span>Expansion: </span>${g.expansion}</p>
        <p><span>Description: </span>${g.description}</p> 
        <p><span>Age: </span>${g.age}</p>
        </div>
        `}let e=document.getElementsByClassName("aoedb-box-bonus")[c];c++;let f=a.civilization_bonus;for(let a of f){let b=document.createElement("li"),c=document.createTextNode(`${a}`);b.appendChild(c),e.appendChild(b)}};printCivilization().then();
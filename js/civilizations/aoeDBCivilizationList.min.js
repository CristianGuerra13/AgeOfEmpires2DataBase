let searchCivilizationInput=document.getElementById("aoedb-search-civilization-input");document.getElementById("aoedb-search-civilization-form").onsubmit=()=>{let a=searchCivilizationInput.value;return window.location.replace(`civilizationSearch.html?search=${encodeURIComponent(a.trim())}`),!1};const getCivilizations=async()=>{const a=await fetch("https://age-of-empires-2-api.herokuapp.com/api/v1/civilizations"),b=await a.json();if(!b)throw new error("No se ha podido establecer conexion");else return b.civilizations},getUniqueUnit=async a=>{if(a){const b=await fetch(a),c=await b.json();return c.name}return"Unit not Found"},getUniqueTech=async a=>{if(a){const b=await fetch(a),c=await b.json();return c.name}return"Tech not Found"},printCivilizations=async()=>{let a=await getCivilizations(),b=document.getElementById("aoedb-body"),c=0;for(let d of a){let a=d.unique_unit[0],e=await getUniqueUnit(a),f=d.unique_tech[0],g=await getUniqueTech(f),h=document.createElement("div");h.className="aoedb-box",b.appendChild(h),h.innerHTML=`
        <div class="aoedb-box-header">
        <h2>${d.name}</h2>
        </div><div class="aoedb-box-body">
        <p><span>Expansion: </span>${d.expansion}</p>
        <p><span>Army Type: </span>${d.army_type}</p>
        <p><span>Team Bonus: </span>${d.team_bonus}</p>
        <p><span>Civilization Bonus:</span></p>
        <ul class="aoedb-box-bonus"></ul>
        <p class="aoedb-box-unit"><span>Unique Unit: </span> ${e}</p>
        <p class="aoedb-box-tech"><span>Unique Tech: </span> ${g}</p></div>`,h.onclick=()=>{window.location.replace(`civilizationSearch.html?search=${encodeURIComponent(d.id)}`)};let i=document.getElementsByClassName("aoedb-box-bonus")[c];c++;let j=d.civilization_bonus;for(let a of j){let b=document.createElement("li"),c=document.createTextNode(`${a}`);b.appendChild(c),i.appendChild(b)}}};printCivilizations().then();
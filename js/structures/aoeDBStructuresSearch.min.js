let searchStructureInput=document.getElementById("aoedb-search-structures-input");document.getElementById("aoedb-search-structures-form").onsubmit=()=>{let a=searchStructureInput.value;return window.location.replace(`structuresSearch.html?search=${encodeURIComponent(a.trim())}`),!1};const getStructure=async()=>{let a=window.location.href,b=a.substring(a.lastIndexOf("=")+1);const c=await fetch(`https://age-of-empires-2-api.herokuapp.com/api/v1/structure/${b}`),d=await c.json();if(!d)throw new error("No se ha podido establecer conexion");else return d},printStructure=async()=>{let a=await getStructure(),b=document.getElementsByClassName("aoedb-search-box-body")[0],c=0,d=document.getElementsByClassName("aoedb-search-box-header")[0];a.message?d.innerHTML=`<h2>${a.message}</h2>`:(d.innerHTML=`<h2>${a.name}</h2>`,b.innerHTML=`
        <div>
        <p><span>Expansion: </span>${a.expansion}</p>
        <p><span>Age: </span>${a.age}</p>
        <p><span>Build Time: </span>${a.build_time}</p>
        <p><span>Structure Cost:</span></p>
        <ul class="aoedb-box-cost"></ul>
        </div>
        <div>
        <p><span>Armor: </span>${a.armor}</p>
        <p><span>Hit Points: </span>${a.hit_points}</p>
        <p><span>Line Of Sight: </span>${a.line_of_sight}</p>
        <p><span>Structure Special:</span></p>
        <ul class="aoedb-box-special"></ul>
        </div>
        `);let e=document.getElementsByClassName("aoedb-box-cost")[c],f=document.getElementsByClassName("aoedb-box-special")[c];c++;let g=Object.entries(a.cost);for(let a of g){let b=document.createElement("li"),c=document.createTextNode(`${a[0]}: ${a[1]}`);b.appendChild(c),e.appendChild(b)}let h=a.special;if(h)for(let a of h){let b=document.createElement("li"),c=document.createTextNode(`${a}`);b.appendChild(c),f.appendChild(b)}};printStructure().then();
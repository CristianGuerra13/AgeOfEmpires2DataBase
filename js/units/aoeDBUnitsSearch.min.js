let searchUnitsInput=document.getElementById("aoedb-search-units-input");document.getElementById("aoedb-search-units-form").onsubmit=()=>{let a=searchUnitsInput.value;return window.location.replace(`unitsSearch.html?search=${encodeURIComponent(a.trim())}`),!1};const getUnit=async()=>{let a=window.location.href,b=a.substring(a.lastIndexOf("=")+1);const c=await fetch(`https://age-of-empires-2-api.herokuapp.com/api/v1/unit/${b}`),d=await c.json();if(!d)throw new error("No se ha podido establecer conexion");else return d},getCreatedIn=async a=>{if(a){const b=await fetch(a),c=await b.json();return c}return"Not Found"},printUnit=async()=>{let a=await getUnit(),b=document.getElementsByClassName("aoedb-search-box-body")[0],c=0,d=document.getElementsByClassName("aoedb-search-box-header")[0];if(console.log(a),a.message)d.innerHTML=`<h2>${a.message}</h2>`;else{let c="";if(a.created_in.includes("https")){let b=await getCreatedIn(a.created_in);c=void 0===b[0]?b.name:b[0].name}else c=a.created_in;d.innerHTML=`<h2>${a.name}</h2>`,b.innerHTML=`
        <div>
        <p><span>Expansion: </span>${a.expansion}</p>
        <p><span>Description: </span>${a.description}</p>
        <p><span>Age: </span>${a.age}</p>
        <p><span>Build Time: </span>${a.build_time}</p>
        <p><span>Unit Cost:</span></p>
        <ul class="aoedb-box-cost"></ul>
        <p><span>Created In: </span> ${c}</p>
        </div>
        <div>
        <p><span>Armor: </span>${a.armor}</p>
        <p><span>Line Of Sight: </span>${a.line_of_sight}</p>
        <p><span>Movement Rate: </span>${a.movement_rate}</p>
        <p><span>Range: </span>${a.range}</p>
        <p><span>Reload Time: </span>${a.reload_time}</p>
        </div>
        <div>
        <p><span>Attack: </span>${a.attack}</p>
        <p><span>Attack Delay: </span>${a.attack_delay}</p>
        <p><span>Attack Bonus: </span>${a.attack_bonus}</p>
        <p><span>Hit Points: </span>${a.hit_points}</p>
        <p><span>Accuracity: </span>${a.accuracy}</p>
        </div>
        `}let e=document.getElementsByClassName("aoedb-box-cost")[c],f=document.getElementsByClassName("aoedb-box-apliesto")[c];c++;let g=Object.entries(a.cost);for(let a of g){let b=document.createElement("li"),c=document.createTextNode(`${a[0]}: ${a[1]}`);b.appendChild(c),e.appendChild(b)}};printUnit().then();
let searchUnitsInput=document.getElementById("aoedb-search-units-input");document.getElementById("aoedb-search-units-form").onsubmit=()=>{let a=searchUnitsInput.value;return window.location.replace(`unitsSearch.html?search=${encodeURIComponent(a.trim())}`),!1};const getUnits=async()=>{const a=await fetch("https://age-of-empires-2-api.herokuapp.com/api/v1/units"),b=await a.json();if(!b)throw new error("No se ha podido establecer conexion");else return b.units},getName=async a=>{if(a){const b=await fetch(a),c=await b.json();return c.name}return"Not Found"},getCreatedIn=async a=>{if(a){const b=await fetch(a),c=await b.json();return c}return"Not Found"},printUnits=async()=>{let a=await getUnits(),b=document.getElementById("aoedb-body"),c=0;for(let d of a){let a="";if(d.created_in.includes("https")){let b=await getCreatedIn(d.created_in);a=void 0===b[0]?b.name:b[0].name}else a=d.created_in;let e=document.createElement("div");e.className="aoedb-box",b.appendChild(e),e.innerHTML=`
        <div class="aoedb-box-header">
        <h2>${d.name}</h2>
        </div><div class="aoedb-box-body">
        <p><span>Expansion: </span>${d.expansion}</p>
        <p><span>Age: </span>${d.age}</p>
        <p><span>Description: </span>${d.description}</p>
        <p><span>Description: </span>${d.description}</p>
        <p><span>Created In: </span>${a}</p>
        <p><span>Unit Cost:</span></p>
        <ul class="aoedb-box-cost"></ul>
        </div>`;let f=document.getElementsByClassName("aoedb-box-cost")[c];c++;let g=Object.entries(d.cost);for(let a of g){let b=document.createElement("li"),c=document.createTextNode(`${a[0]}: ${a[1]}`);b.appendChild(c),f.appendChild(b)}e.onclick=()=>{window.location.replace(`unitsSearch.html?search=${encodeURIComponent(d.id)}`)}}};printUnits().then();